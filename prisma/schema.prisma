generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

enum BodyType {
  HATCHBACK
  SEDAN
  MPV
  SUV
  LUXURY
  MINIBUS
}

enum TransmissionType {
  MANUAL
  AUTOMATIC
  MANUAL_AUTOMATIC
}

model Car {
  id            String            @id @default(uuid())
  carName       String            @map("car_name")
  slug          String            @unique
  bodyType      BodyType          @map("body_type")
  transmission  TransmissionType  
  seats         Int?
  bags          Int?
  description   String?
  imageUrl      String            @map("image_url")
  createdAt     DateTime          @default(now()) @map("created_at")
  updatedAt     DateTime          @updatedAt      @map("updated_at")

  prices        RentalPrice[]
  testimonials  Testimonial[]
}

model RentalPrice {
  id            String  @id @default(uuid())
  carId         String  @map("car_id")
  pricePerDay   Int     @map("price_per_day")
  pricePerWeek  Int?    @map("price_per_week")
  pricePerMonth Int?    @map("price_per_month")
  description   String? 

  car Car @relation(fields: [carId], references: [id])
}

model Testimonial {
  id            String    @id @default(uuid())
  carId         String    @map("car_id")
  customerName  String    @map("customer_name")
  reviewContent String    @map("review_content")
  date          DateTime  @default(now())
  rating        Int

  car Car @relation(fields: [carId], references: [id])
}

model Article {
  id            String    @id @default(uuid())
  title         String
  slug          String    @unique
  excerpt       String?
  content       String
  thumbnailUrl  String?   @map("thumbnail_url")
  author        String    @default("Admin")
  createdAt     DateTime  @default(now()) @map("created_at")
  updatedAt     DateTime  @updatedAt      @map("updated_at")
}
